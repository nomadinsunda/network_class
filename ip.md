# π IP ν”„λ΅ν† μ½ μ™„μ „ μ •λ³µ: μΈν„°λ„·μ μ£Όμ† μ²΄κ³„μ™€ ν¨ν‚· μ „λ‹¬μ ν•µμ‹¬

> μΈν„°λ„·μ€ μ–΄λ–»κ² λ©μ μ§€κΉμ§€ λ°μ΄ν„°λ¥Ό μ •ν™•ν λ³΄λ‚΄λ”κ°€?
> IP ν”„λ΅ν† μ½μ κµ¬μ΅°, μ£Όμ† μ²΄κ³„(Public & Private IP ν¬ν•¨), λΌμ°ν…, λ‹¨νΈν™”, λ³΄μ•κΉμ§€ μ™„μ „ μ •λ³µν•΄λ³΄μ.

---

## π” 1. IPλ€?

\*\*IP(Internet Protocol)\*\*λ” λ„¤νΈμ›ν¬ μƒμ—μ„ λ°μ΄ν„°λ¥Ό **ν¨ν‚· λ‹¨μ„**λ΅ μ „μ†΅ν•κΈ° μ„ν• **λ„¤νΈμ›ν¬ κ³„μΈµ(OSI Layer 3)** ν”„λ΅ν† μ½μ…λ‹λ‹¤.

| ν•µμ‹¬ μ—­ν•  | μ„¤λ…                      |
| ----- | ----------------------- |
| μ£Όμ† μ§€μ • | κ° μ¥μΉμ— κ³ μ ν• IP μ£Όμ† ν• λ‹Ή      |
| ν¨ν‚· μ „λ‹¬ | λ©μ μ§€κΉμ§€ ν¨ν‚·μ„ κ²½μ  λΌμ°ν„°λ¥Ό ν†µν•΄ μ „λ‹¬ |
| λ‹¨νΈν™”   | μ „μ†΅ κ²½λ΅μƒμ MTUλ³΄λ‹¤ ν° ν¨ν‚·μ„ λ¶„ν•   |

---

## π§± 2. IP μ£Όμ† κµ¬μ΅°

### β… IPv4

* **32λΉ„νΈ**: 4λ°”μ΄νΈ (μ: `192.168.1.1`)
* **λ„¤νΈμ›ν¬ λ¶€λ¶„ + νΈμ¤νΈ λ¶€λ¶„**μΌλ΅ κµ¬μ„±
* **μ„λΈλ„· λ§μ¤ν¬**μ™€ ν•¨κ» μ‚¬μ©

```text
IP:        192.168.1.100
Subnet:    255.255.255.0
Network:   192.168.1.0
Broadcast: 192.168.1.255
```

### β… IPv6

* **128λΉ„νΈ**: ν™•μ¥μ„±κ³Ό λ³΄μ• κ°μ„ 
* ν‘ν„ μμ‹: `2001:0db8:85a3::8a2e:0370:7334`

---

## π 3. Public IP vs Private IP

### π“ Public IP (κ³µμΈ IP μ£Όμ†)

* **μΈν„°λ„· μƒμ—μ„ μ „ μ„Έκ³„μ μΌλ΅ μ μΌ**
* μ „ μ„Έκ³„ λΌμ°ν… κ°€λ¥
* **ISPκ°€ μ λ£λ΅ ν• λ‹Ή**
* μΈν„°λ„· μ„λ²„, λΌμ°ν„° μ™Έλ¶€ μΈν„°νμ΄μ¤μ— μ£Όλ΅ μ‚¬μ©

> μ: `8.8.8.8`, `1.1.1.1`, `203.246.112.1`

### π“— Private IP (μ‚¬μ„¤ IP μ£Όμ†)

* **λ‚΄λ¶€ λ„¤νΈμ›ν¬μ—μ„λ§ μ‚¬μ©**, μ™Έλ¶€ μΈν„°λ„·μ—μ„λ” μ‚¬μ© λ¶κ°€
* RFC 1918μ— μν•΄ μ •μλ λ²”μ„:

| ν΄λμ¤ | λ²”μ„                             |
| --- | ------------------------------ |
| A   | 10.0.0.0 \~ 10.255.255.255     |
| B   | 172.16.0.0 \~ 172.31.255.255   |
| C   | 192.168.0.0 \~ 192.168.255.255 |

> β οΈ κ°™μ€ μ‚¬μ„¤ IPλ¥Ό μ—¬λ¬ λ„¤νΈμ›ν¬μ—μ„ λ™μ‹μ— μ‚¬μ©ν•΄λ„ μ¶©λ μ—†μ

---

## π” 4. NATμ™€ IP μ£Όμ† κ³ κ°

IPv4 μ£Όμ†λ” μ•½ 43μ–µ κ°λ΅ μ ν•λμ–΄ μμ β†’ μ „ μ„Έκ³„ λ¨λ“  μ¥μΉμ— Public IP μ κ³µμ€ λ¶κ°€λ¥

### ν•΄κ²°μ±…: NAT(Network Address Translation)

* ν•λ‚μ **Public IP**λ΅ μ—¬λ¬ μ‚¬μ„¤ IP μ¥μΉκ°€ μΈν„°λ„· κ³µμ  κ°€λ¥
* λΌμ°ν„°κ°€ λ‚΄λ¶€ IP β†” μ™Έλ¶€ IP λ³€ν™

```text
[λ‚΄λ¶€ PC] 192.168.0.2
   β†“ NAT λ³€ν™
[λΌμ°ν„°] 203.246.112.1 (κ³µμΈ IP)
   β†“
[μΈν„°λ„·]
```

---

## π§­ 5. IP ν¨ν‚· μ „μ†΅ κ³Όμ • μ”μ•½

```text
[PC A] β†’ [λΌμ°ν„°] β†’ [μΈν„°λ„·] β†’ [λΌμ°ν„°] β†’ [PC B]
```

1. λ©μ μ§€ IP μ£Όμ†μ— κΈ°λ°ν•΄ λΌμ°ν… κ²½λ΅ μ„¤μ •
2. κ° ν™‰(hop, λΌμ°ν„°)μ„ μ§€λ‚  λ• **TTL** κ°μ†
3. μµμΆ… λ©μ μ§€μ—μ„ ν¨ν‚· μμ‹ 

---

## π“¦ 6. IPv4 ν—¤λ” κµ¬μ΅°

```text
0                   15                  31
+------------------+--------------------+
| Version | IHL    | Type of Service    |
+------------------+--------------------+
| Total Length                     |
+----------------------------------+
| Identification | Flags | Fragment     |
+------------------+--------------------+
| TTL | Protocol | Header Checksum     |
+------------------+--------------------+
| Source IP Address                |
+----------------------------------+
| Destination IP Address           |
+----------------------------------+
```

| ν•„λ“         | μ„¤λ…                               |
| ---------- | -------------------------------- |
| Version    | IPv4λ” 4                          |
| TTL        | μµλ€ ν™‰ μ. λΌμ°ν„° μ§€λ‚  λ•λ§λ‹¤ -1            |
| Protocol   | μƒμ„ κ³„μΈµ μ‹λ³„ (TCP=6, UDP=17, ICMP=1) |
| Src/Dst IP | λ°μ‹ μ / μμ‹ μ IP μ£Όμ†                  |

---

## β‚οΈ 7. IP λ‹¨νΈν™”(Fragmentation)

* MTUλ³΄λ‹¤ ν° ν¨ν‚·μ€ μ΅°κ°(ν”„λκ·Έλ¨ΌνΈ)μΌλ΅ λ¶„λ¦¬
* **μμ‹ μ§€μ—μ„ μ¬μ΅°λ¦½**
* μ΅°κ°ν™”λ” **λ„¤νΈμ›ν¬ μ„±λ¥ μ €ν•**λ¥Ό μ λ°ν•  μ μμ–΄ κ°€κΈ‰μ  νν”Ό

---

## π” 8. λ³΄μ• μ΄μ

| μ„ν—               | μ„¤λ…                    |
| ---------------- | --------------------- |
| IP Spoofing      | μ¶λ°μ§€ IPλ¥Ό μ„μ΅°ν•μ—¬ κ³µκ²© νƒμ§€ νν”Ό |
| Fragmentation κ³µκ²© | λ°©ν™”λ²½ νƒμ§€ μ°ν λ©μ           |
| DoS/DDoS         | νΉμ • IP λ€μƒ λ€λ‰ νΈλν”½ μ λ°    |

### β… λ€μ‘ λ°©μ•

* Ingress/Egress ν•„ν„°λ§
* IPS/IDS νƒμ§€ μ„¤μ •
* Stateless/Stateful Firewall κ·μΉ™ κµ¬μ„±

---

## π› οΈ 9. μ‹¤λ¬΄ λ…λ Ήμ–΄

```bash
# ν„μ¬ IP ν™•μΈ
ip addr show        # Linux
ipconfig            # Windows

# λΌμ°ν… ν…μ΄λΈ” ν™•μΈ
ip route
route print         # Windows

# μ™Έλ¶€ κ³µμΈ IP ν™•μΈ (κ³µμ κΈ° λ’¤μΌ κ²½μ°)
curl ifconfig.me
curl ipinfo.io/ip
```

---

## π“ μ°Έκ³ μλ£

* [RFC 791 - Internet Protocol](https://datatracker.ietf.org/doc/html/rfc791)
* [RFC 1918 - Private Address Allocation](https://datatracker.ietf.org/doc/html/rfc1918)
* [IANA IPv4 Special-Purpose Address Registry](https://www.iana.org/assignments/iana-ipv4-special-registry/)

---

## β… μ”μ•½

| ν•­λ©         | μ„¤λ…                                      |
| ---------- | --------------------------------------- |
| IP μ£Όμ†      | λ„¤νΈμ›ν¬ μƒμ λ…Όλ¦¬ μ£Όμ† (IPv4: 32λΉ„νΈ, IPv6: 128λΉ„νΈ) |
| Public IP  | μΈν„°λ„· λΌμ°ν… κ°€λ¥ν• μ „μ—­ κ³ μ  μ£Όμ†                    |
| Private IP | λ‚΄λ¶€ λ„¤νΈμ›ν¬ μ „μ© λΉ„κ³µκ° μ£Όμ† (NATλ΅ λ³€ν™)             |
| NAT        | μ—¬λ¬ μ‚¬μ„¤ IPκ°€ ν•λ‚μ κ³µμΈ IPλ¥Ό κ³µμ                  |
| κΈ°λ¥         | μ£Όμ† μ§€μ •, λΌμ°ν…, λ‹¨νΈν™”, ν”„λ΅ν† μ½ μ‹λ³„                |
| λ¬Έμ          | IP κ³ κ°, μ¤ν‘Έν•‘, ν”„λκ·Έλ¨ΌνΈ κ³µκ²© λ“±                  |


